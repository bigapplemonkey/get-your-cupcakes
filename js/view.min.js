var view={init:function(){var a=this;$(document).ready(function(){a.favoriteCountElem=$("#favoriteCount"),a.nearCountElem=$("#nearCount"),a.sortList=$(".sort-dropdown"),a.expanded=!0,$("#collapsible-header").click(function(){requestAnimationFrame(function(){var b="expand_more";a.expanded?(b="expand_less",a.sortList.fadeOut(150)):a.sortList.fadeIn(150),$("#accordion_icon").html(b),a.expanded=!a.expanded})});var b=$(window).width();b<501&&$("#collapsible-header").trigger("click"),$(window).resize(function(){var b=$(window).width();b>500&&!a.expanded&&$("#collapsible-header").trigger("click")}),$(".dropdown-button").dropdown(),$("ul.tabs").tabs({onShow:function(b){googleMap.closeInfoWindow();var c=b[0].id;viewModel.searchString(""),$("input").blur(),"favorites"===c?(viewModel.isTab1Selected(!0),requestAnimationFrame(function(){a.favoriteCountElem.removeClass("yellow lighten-3")})):(viewModel.isTab1Selected(!1),requestAnimationFrame(function(){a.nearCountElem.removeClass("yellow lighten-3")}))}})})},initCardElems:function(){$(document).ready(function(){$(".materialboxed").materialbox()})},updateFavoriteCounter:function(a){this.favoriteCountElem.addClass("yellow lighten-3");var b=$('<span class="toast__text"><img src="images/smily-cupcake35.png" alt="" class="toast__image">'+a+" added to favorites</span>");Materialize.toast(b,1400,"rounded")},updateNearCounter:function(a){this.nearCountElem.addClass("yellow lighten-3");var b=$('<span class="toast__text"><img src="images/smily-cupcake35.png" alt="" class="toast__image">'+a+" removed from favorites</span>");Materialize.toast(b,1400,"rounded")},getNextPhoto:function(a,b){var c=$("#"+a.placeID),d=c.data("index");b?(++d,d>=a.photos.length&&(d=0)):(--d,d<0&&(d=a.photos.length-1)),requestAnimationFrame(function(){c.fadeOut(150,function(){$(this).attr("src",a.photos[d]).bind("onreadystatechange load",function(){this.complete&&$(this).fadeIn(150)})})}),c.data("index",d)},showInList:function(a){var b=this;b.expanded||$("#collapsible-header").trigger("click");var c=$("#"+a+"_listHeader"),d=$("#"+a+"_listElem"),e=$("#navigationContentBody"),f=c.height(),g=e.scrollTop();d.hasClass("active")||c.trigger("click");var h=c.attr("data-index"),i=f*h-5;(g>i+20||g<i-20)&&requestAnimationFrame(function(){e.animate({scrollTop:i},800)})},clearInput:function(){viewModel.searchString(""),requestAnimationFrame(function(){$("input").blur()})},stopLoader:function(){requestAnimationFrame(function(){$("#preloader").fadeOut("slow")})},removeLoader:function(){requestAnimationFrame(function(){$("#loader-wrapper").fadeOut("slow")})},openModal:function(){$("#modal1").openModal()}};